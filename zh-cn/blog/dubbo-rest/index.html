<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Apache Dubbo™ 是一款微服务框架（Microservices Framework），它提供高性能 RPC 通信、服务发现、流量管理等服务治理能力，为你提供构建大规模微服务集群所需的全套解决方案。"><link rel="shortcut icon" href=../../assets/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.3"><title>在 Dubbo 中使用 REST - Apache Dubbo</title><link rel=stylesheet href=../../assets/stylesheets/main.6fb40bf7.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cef4c379.min.css><meta name=theme-color content=#3f51b5><link rel=stylesheet href=../../css/dropdown.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#dubbo-rest class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Application header --> <header class=md-header data-md-component=header> <!-- Top-level navigation --> <nav class="md-header-nav md-grid" aria-label=Header> <!-- Link to home --> <a href=../.. title="Apache Dubbo" class="md-header-nav__button md-logo" aria-label="Apache Dubbo"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> <!-- Button to open drawer --> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <!-- Header title --> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Apache Dubbo </span> <span class="md-header-nav__topic md-ellipsis"> 在 Dubbo 中使用 REST </span> </div> </div> <!-- Button to open search dialogue --> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div> <div class=langChange id=translate title=中文|English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"> <path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7l1.62-4.33L19.12 17h-3.24z"/> </svg> </div> <script>
    var translate = document.getElementById('translate');
    translate.addEventListener('click', changeHref, false);
    function changeHref() {
        if (window.location.href.search('en-us') !== -1) {
            var changeHref = window.location.href.replace('en-us', 'zh-cn');

        } else {
            var changeHref = window.location.href.replace('zh-cn', 'en-us');
        }
        window.location.href = changeHref
    }
</script> <style>
    .langChange {
        display: inline-block;
        width: 2.4rem;
        height: 2.4rem;
        vertical-align: middle;
        margin-left: .5rem;
    }

    .langChange svg {
        fill: rgba(255, 255, 255, 0.548);
        display: block;
        width: 1.2rem;
        height: 1.2rem;
        margin: 0 auto;
        margin-top: .6rem;
        margin-left: .6rem;
    }

    .langChange :hover {
        fill: white;
        cursor: pointer;
    }
</style> </div> <!-- Repository containing source --> <div class=md-header-nav__source> <a href=https://github.com/apache/dubbo/ title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <!-- Home page --> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> 首页 </a> </li> <!-- Main navigation item with nested items --> <!-- Home page --> <li class="md-tabs__item md-tabs_csr"> <a class="md-tabs__link md-tabs__link--active">文档</a> <ul class="md-tabs__list md-sub-tabs_bn"> <!-- Recurse, if the first item has nested items --> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <li class=md-tabs__item> <a href=../../docs/2.7/user/preface/background/ class=md-tabs__link>2.7</a> </li> <!-- Render item --> <!-- Recurse, if the first item has nested items --> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <li class=md-tabs__item> <a href=../../docs/3.0/user/preface/background/ class=md-tabs__link>3.0</a> </li> <!-- Render item --> </ul> </li> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <li class=md-tabs__item> <a href=../apache-dubbo-2019-2020/ class=md-sub-tabs_link>Blog</a> </li> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <!-- Home page --> <!-- Recurse, if the first item has nested items --> <li class=md-tabs__item> <a href=../../developers/user-guide/faq_dev/ class=md-sub-tabs_link>Developers</a> </li> <!-- Render item --> <!-- Home page --> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Main navigation --> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <!-- Site title --> <label class=md-nav__title for=__drawer> <a href=../.. title="Apache Dubbo" class="md-nav__button md-logo" aria-label="Apache Dubbo"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> Apache Dubbo </label> <!-- Repository containing source --> <div class=md-nav__source> <a href=https://github.com/apache/dubbo/ title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../.. title=首页 class=md-nav__link> 首页 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1> 2.7 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=2.7 data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 2.7 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1 type=checkbox id=nav-1-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1> 用户手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=用户手册 data-md-level=2> <label class=md-nav__title for=nav-1-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 用户手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-1 type=checkbox id=nav-1-1-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-1> 入门 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=入门 data-md-level=3> <label class=md-nav__title for=nav-1-1-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 入门 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/preface/background/ title=背景 class=md-nav__link> 背景 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/preface/requirements/ title=需求 class=md-nav__link> 需求 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/preface/architecture/ title=架构 class=md-nav__link> 架构 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/preface/usage/ title=用法 class=md-nav__link> 用法 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/quick-start/ title=快速启动 class=md-nav__link> 快速启动 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/dependencies/ title=依赖 class=md-nav__link> 依赖 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/maturity/ title=成熟度 class=md-nav__link> 成熟度 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-5 type=checkbox id=nav-1-1-5> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-5> 配置 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=配置 data-md-level=3> <label class=md-nav__title for=nav-1-1-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 配置 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/configuration/xml/ title="XML 配置" class=md-nav__link> XML 配置 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/configuration/api/ title="API 配置" class=md-nav__link> API 配置 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/configuration/annotation/ title="Annotation 配置" class=md-nav__link> Annotation 配置 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/configuration/annotation/ title=动态配置中心 class=md-nav__link> 动态配置中心 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/configuration/configuration-load-process/ title=配置加载流程 class=md-nav__link> 配置加载流程 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/configuration/environment-variables/ title=自动加载环境变量 class=md-nav__link> 自动加载环境变量 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-6 type=checkbox id=nav-1-1-6> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-6> 示例 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=示例 data-md-level=3> <label class=md-nav__title for=nav-1-1-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 示例 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/preflight-check/ title=启动时检查 class=md-nav__link> 启动时检查 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/fault-tolerent-strategy/ title=集群容错 class=md-nav__link> 集群容错 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/loadbalance/ title=负载均衡 class=md-nav__link> 负载均衡 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/thread-model/ title=线程模型 class=md-nav__link> 线程模型 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/explicit-target/ title=直连提供者 class=md-nav__link> 直连提供者 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/subscribe-only/ title=只订阅 class=md-nav__link> 只订阅 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/registry-only/ title=只注册 class=md-nav__link> 只注册 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/static-service/ title=静态服务 class=md-nav__link> 静态服务 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/multi-protocols/ title=多协议 class=md-nav__link> 多协议 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/multi-registry/ title=多注册中心 class=md-nav__link> 多注册中心 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/service-group/ title=服务分组 class=md-nav__link> 服务分组 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/multi-versions/ title=多版本 class=md-nav__link> 多版本 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/group-merger/ title=分组聚合 class=md-nav__link> 分组聚合 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/parameter-validation/ title=参数验证 class=md-nav__link> 参数验证 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/result-cache/ title=结果缓存 class=md-nav__link> 结果缓存 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/generic-reference/ title=泛化引用 class=md-nav__link> 泛化引用 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/generic-service/ title=泛化实现 class=md-nav__link> 泛化实现 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/echo-service/ title=回声测试 class=md-nav__link> 回声测试 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/context/ title=上下文信息 class=md-nav__link> 上下文信息 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/attachment/ title=隐式参数 class=md-nav__link> 隐式参数 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/async-call/ title=异步调用 class=md-nav__link> 异步调用 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/async-execute-on-provider/ title=服务端异步 class=md-nav__link> 服务端异步 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/local-call/ title=本地调用 class=md-nav__link> 本地调用 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/callback-parameter/ title=参数回调 class=md-nav__link> 参数回调 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/events-notify/ title=事件通知 class=md-nav__link> 事件通知 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/local-stub/ title=本地存根 class=md-nav__link> 本地存根 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/local-mock/ title=本地伪装 class=md-nav__link> 本地伪装 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/delay-publish/ title=延迟暴露 class=md-nav__link> 延迟暴露 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/concurrency-control/ title=并发控制 class=md-nav__link> 并发控制 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/config-connection.md title=连接控制 class=md-nav__link> 连接控制 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/lazy-connect/ title=延迟连接 class=md-nav__link> 延迟连接 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/stickiness/ title=粘滞连接 class=md-nav__link> 粘滞连接 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/token-authorization/ title=令牌验证 class=md-nav__link> 令牌验证 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/routing-rule/ title=路由规则 class=md-nav__link> 路由规则 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/config-rule/ title=配置规则 class=md-nav__link> 配置规则 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/service-downgrade/ title=服务降级 class=md-nav__link> 服务降级 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/graceful-shutdown/ title=优雅停机 class=md-nav__link> 优雅停机 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/hostname-binding/ title=主机绑定 class=md-nav__link> 主机绑定 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/logger-strategy/ title=日志适配 class=md-nav__link> 日志适配 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/accesslog/ title=访问日志 class=md-nav__link> 访问日志 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/service-container/ title=服务容器 class=md-nav__link> 服务容器 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/distributed-transaction/ title=分布式事务 class=md-nav__link> 分布式事务 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/dump/ title=线程栈自动dump class=md-nav__link> 线程栈自动dump </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/netty4/ title=Netty4 class=md-nav__link> Netty4 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/serialization/ title=Kryo和FST序列化 class=md-nav__link> Kryo和FST序列化 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/simplify-registry-data/ title=简化注册中心URL class=md-nav__link> 简化注册中心URL </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/demos/api.md title="API 参考手册" class=md-nav__link> API 参考手册 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-7 type=checkbox id=nav-1-1-7> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-7> schema 配置参考手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="schema 配置参考手册" data-md-level=3> <label class=md-nav__title for=nav-1-1-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> schema 配置参考手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-service/ title=dubbo:service class=md-nav__link> dubbo:service </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-reference/ title=dubbo:reference class=md-nav__link> dubbo:reference </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-protocol/ title=dubbo:protocol class=md-nav__link> dubbo:protocol </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-registry/ title=dubbo:registry class=md-nav__link> dubbo:registry </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-monitor/ title=dubbo:monitor class=md-nav__link> dubbo:monitor </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-application/ title=dubbo:application class=md-nav__link> dubbo:application </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-module/ title=dubbo:module class=md-nav__link> dubbo:module </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-provider/ title=dubbo:provider class=md-nav__link> dubbo:provider </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-consumer/ title=dubbo:consumer class=md-nav__link> dubbo:consumer </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-method/ title=dubbo:method class=md-nav__link> dubbo:method </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-argument/ title=dubbo:argument class=md-nav__link> dubbo:argument </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-parameter/ title=dubbo:parameter class=md-nav__link> dubbo:parameter </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/xml/dubbo-config-center/ title=dubbo:config-center class=md-nav__link> dubbo:config-center </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-8 type=checkbox id=nav-1-1-8> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-8> 协议参考手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=协议参考手册 data-md-level=3> <label class=md-nav__title for=nav-1-1-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 协议参考手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/protocol/dubbo/ title=dubbo:// class=md-nav__link> dubbo:// </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/protocol/rmi/ title=rmi:// class=md-nav__link> rmi:// </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/protocol/hessian/ title=hessian:// class=md-nav__link> hessian:// </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/protocol/http/ title=http:// class=md-nav__link> http:// </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/protocol/thrift/ title=thrift:// class=md-nav__link> thrift:// </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/protocol/rest/ title=rest:// class=md-nav__link> rest:// </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-9 type=checkbox id=nav-1-1-9> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-9> 注册中心参考手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=注册中心参考手册 data-md-level=3> <label class=md-nav__title for=nav-1-1-9> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 注册中心参考手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/registry/multicast/ title="Multicast 注册中心" class=md-nav__link> Multicast 注册中心 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/registry/zookeeper/ title="Zookeeper 注册中心" class=md-nav__link> Zookeeper 注册中心 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/registry/redis/ title="Redis 注册中心" class=md-nav__link> Redis 注册中心 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/registry/simple/ title="Simple 注册中心" class=md-nav__link> Simple 注册中心 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-10 type=checkbox id=nav-1-1-10> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-10> 元数据中心参考手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=元数据中心参考手册 data-md-level=3> <label class=md-nav__title for=nav-1-1-10> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 元数据中心参考手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/metadata/metadata-redis/ title="Redis 元数据中心" class=md-nav__link> Redis 元数据中心 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/metadata/metadata-zookeeper/ title="Zookeeper 元数据中心" class=md-nav__link> Zookeeper 元数据中心 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/telnet/ title="telnet 命令参考手册" class=md-nav__link> telnet 命令参考手册 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/qos/ title=在线运维命令-QOS class=md-nav__link> 在线运维命令-QOS </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/references/maven/ title="maven 插件参考手册" class=md-nav__link> maven 插件参考手册 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/best-practice/ title=服务化最佳实践 class=md-nav__link> 服务化最佳实践 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/recommend/ title=推荐用法 class=md-nav__link> 推荐用法 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/capacity-plan/ title=容量规划 class=md-nav__link> 容量规划 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/perf-test/ title=性能测试报告 class=md-nav__link> 性能测试报告 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/covergence.md title=测试覆盖率报告 class=md-nav__link> 测试覆盖率报告 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-19 type=checkbox id=nav-1-1-19> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-19> 版本与升级 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=版本与升级 data-md-level=3> <label class=md-nav__title for=nav-1-1-19> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 版本与升级 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/2.7/user/versions/version-270/ title=2.7.x升级步骤及注意事项 class=md-nav__link> 2.7.x升级步骤及注意事项 </a> </li> </ul> </nav> </li> <!-- Currently active page --> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-2> 开发手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=开发手册 data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 开发手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/build.md title=源码构建 class=md-nav__link> 源码构建 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/design.md title=框架设计 class=md-nav__link> 框架设计 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/SPI.md title=扩展点加载 class=md-nav__link> 扩展点加载 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/implementation.md title=实现细节 class=md-nav__link> 实现细节 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2-5 type=checkbox id=nav-1-2-5> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-2-5> SPI 扩展实现 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="SPI 扩展实现" data-md-level=3> <label class=md-nav__title for=nav-1-2-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> SPI 扩展实现 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/protocol.md title=协议扩展 class=md-nav__link> 协议扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/filter.md title=调用拦截扩展 class=md-nav__link> 调用拦截扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/invoker-listener.md title=引用监听扩展 class=md-nav__link> 引用监听扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/exporter-listener.md title=暴露监听扩展 class=md-nav__link> 暴露监听扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/cluster.md title=集群扩展 class=md-nav__link> 集群扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/router.md title=路由扩展 class=md-nav__link> 路由扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/load-balance.md title=负载均衡扩展 class=md-nav__link> 负载均衡扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/merger.md title=合并结果扩展 class=md-nav__link> 合并结果扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/registry.md title=注册中心扩展 class=md-nav__link> 注册中心扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/monitor.md title=监控中心扩展 class=md-nav__link> 监控中心扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/extension-factory.md title=扩展点加载扩展 class=md-nav__link> 扩展点加载扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/proxy-factory.md title=动态代理扩展 class=md-nav__link> 动态代理扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/compiler.md title=编译器扩展 class=md-nav__link> 编译器扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/dispatcher.md title=消息派发扩展 class=md-nav__link> 消息派发扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/threadpool.md title=线程池扩展 class=md-nav__link> 线程池扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/serialize.md title=序列化扩展 class=md-nav__link> 序列化扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/remoting.md title=网络传输扩展 class=md-nav__link> 网络传输扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/exchanger.md title=信息交换扩展 class=md-nav__link> 信息交换扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/networker.md title=组网扩展 class=md-nav__link> 组网扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/telnet-handler.md title="Telnet 命令扩展" class=md-nav__link> Telnet 命令扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/status-checker.md title=状态检查扩展 class=md-nav__link> 状态检查扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/container.md title=容器扩展 class=md-nav__link> 容器扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/page.md title=页面扩展 class=md-nav__link> 页面扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/cache.md title=缓存扩展 class=md-nav__link> 缓存扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/validation.md title=验证扩展 class=md-nav__link> 验证扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/logger-adapter.md title=日志适配扩展 class=md-nav__link> 日志适配扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/impls/config-center.md title=配置中心 class=md-nav__link> 配置中心 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/contract.md title=公共契约 class=md-nav__link> 公共契约 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/coding.md title=编码约定 class=md-nav__link> 编码约定 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2-8 type=checkbox id=nav-1-2-8> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-2-8> 设计原则 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=设计原则 data-md-level=3> <label class=md-nav__title for=nav-1-2-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 设计原则 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/code-detail.md title=魔鬼在细节 class=md-nav__link> 魔鬼在细节 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/general-knowledge.md title=一些设计上的基本常识 class=md-nav__link> 一些设计上的基本常识 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/expansibility.md title=谈谈扩充式扩展与增量式扩展 class=md-nav__link> 谈谈扩充式扩展与增量式扩展 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/configuration.md title=配置设计 class=md-nav__link> 配置设计 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/robustness.md title=设计实现的健壮性 class=md-nav__link> 设计实现的健壮性 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/dummy.md title=防痴呆设计 class=md-nav__link> 防痴呆设计 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/principals/extension.md title=扩展点重构 class=md-nav__link> 扩展点重构 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/release.md title=版本发布 class=md-nav__link> 版本发布 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/contribution.md title=贡献代码 class=md-nav__link> 贡献代码 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/checklist.md title=检查列表 class=md-nav__link> 检查列表 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/code-smell.md title=坏味道 class=md-nav__link> 坏味道 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../dev/TCK.md title=兼容性测试 class=md-nav__link> 兼容性测试 </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-3> 管理者文档 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=管理者文档 data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 管理者文档 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../admin/introduction.md title="Dubbo Admin介绍" class=md-nav__link> Dubbo Admin介绍 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../admin/serviceSearch.md title=服务搜索和详情 class=md-nav__link> 服务搜索和详情 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../admin/serviceGovernance.md title=服务治理 class=md-nav__link> 服务治理 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../admin/serviceTest.md title=服务测试 class=md-nav__link> 服务测试 </a> </li> </ul> </nav> </li> <!-- Currently active page --> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1> 3.0 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=3.0 data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 3.0 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1 type=checkbox id=nav-1-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1> 用户手册 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=用户手册 data-md-level=2> <label class=md-nav__title for=nav-1-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 用户手册 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1-1 type=checkbox id=nav-1-1-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1-1> 入门 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=入门 data-md-level=3> <label class=md-nav__title for=nav-1-1-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 入门 </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/3.0/user/preface/background/ title=背景 class=md-nav__link> 背景 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/3.0/user/preface/background/ title=需求 class=md-nav__link> 需求 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/3.0/user/preface/architecture/ title=架构 class=md-nav__link> 架构 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../docs/3.0/user/preface/usage/ title=用法 class=md-nav__link> 用法 </a> </li> </ul> </nav> </li> <!-- Currently active page --> </ul> </nav> </li> <!-- Currently active page --> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1> Blog <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Blog data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../apache-dubbo-2019-2020/ title=2019-2020 class=md-nav__link> 2019-2020 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../service-test/ title=服务测试 class=md-nav__link> 服务测试 </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubboAsync_server/ title="Implementation background and practice of Dubbo server asynchronous interface" class=md-nav__link> Implementation background and practice of Dubbo server asynchronous interface </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubboAsync_client/ title="Implementation background and practice of Dubbo client asynchronous interface" class=md-nav__link> Implementation background and practice of Dubbo client asynchronous interface </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubbo-fescar/ title="How to use Fescar to ensure consistency between Dubbo Microservices" class=md-nav__link> How to use Fescar to ensure consistency between Dubbo Microservices </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../prepare-an-apache-release/ title="Prepare an Apache Release" class=md-nav__link> Prepare an Apache Release </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubbo-protocol/ title="Dubbo protocol" class=md-nav__link> Dubbo protocol </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubbo-101/ title="Your First Dubbo Demo" class=md-nav__link> Your First Dubbo Demo </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../first-dubbo-filter/ title="Your First Dubbo filter" class=md-nav__link> Your First Dubbo filter </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubbo-zk/ title="Using Zookeeper in Dubbo" class=md-nav__link> Using Zookeeper in Dubbo </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubbo-annotation/ title="Using annotation in Dubbo" class=md-nav__link> Using annotation in Dubbo </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../introduction-to-dubbo-spi/ title="Introduction to Dubbo spi" class=md-nav__link> Introduction to Dubbo spi </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../spring-boot-dubbo-start-stop-analysis/ title="Source code analysis of spring-boot+Dubbo App start and stop" class=md-nav__link> Source code analysis of spring-boot+Dubbo App start and stop </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../introduction-to-dubbo-spi-2/ title="Dubbo extensible mechanism source code analysis" class=md-nav__link> Dubbo extensible mechanism source code analysis </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../introduction-to-dubbo-qos/ title="Manipulating Services Dynamically via QoS" class=md-nav__link> Manipulating Services Dynamically via QoS </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../dubbo-loadbalance/ title="Dubbo Loadbalance" class=md-nav__link> Dubbo Loadbalance </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../sentinel-introduction-for-dubbo/ title="Sentinel: The flow sentinel of Dubbo service" class=md-nav__link> Sentinel: The flow sentinel of Dubbo service </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../pinpoint/ title="Tracking with Pinpoint" class=md-nav__link> Tracking with Pinpoint </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1> Developers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Developers data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Developers </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1 type=checkbox id=nav-1-1> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-1> User Guide <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="User Guide" data-md-level=2> <label class=md-nav__title for=nav-1-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/user-guide/faq_dev/ title=faq class=md-nav__link> faq </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-2> Contributor Guide <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Contributor Guide" data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Contributor Guide </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/new-contributor-guide_dev/ title="New contributor guide" class=md-nav__link> New contributor guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/software-donation-guide_dev/ title="Software donation guide" class=md-nav__link> Software donation guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/test-coverage-guide_dev/ title="Test coverage guide" class=md-nav__link> Test coverage guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/mailing-list-subscription-guide_dev/ title="Mailing list subscription guide" class=md-nav__link> Mailing list subscription guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/cla-signing-guide_dev/ title="CLA Signing Guide" class=md-nav__link> CLA Signing Guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/dubbo-extension-guide_dev/ title="Extension guide" class=md-nav__link> Extension guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/contributor-guide/become-a-committer_dev/ title="How to become a committer" class=md-nav__link> How to become a committer </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/reporting-security-issues_dev.md title="How to report security issues" class=md-nav__link> How to report security issues </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class="md-nav__item md-nav__item--nested"> <!-- Active checkbox expands items contained within nested section --> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <!-- Expand active pages --> <label class=md-nav__link for=nav-1-3> Committer Guide <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Committer Guide" data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Committer Guide </label> <ul class=md-nav__list data-md-scrollfix> <!-- Render nested item list --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/committer-guide/new-committer-guide_dev/ title="New Committer guide" class=md-nav__link> New Committer guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href="../../developers/Label an Issue.md" title="Label an Issue" class=md-nav__link> Label an Issue </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/committer-guide/website-guide_dev/ title="Website Guide" class=md-nav__link> Website Guide </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/committer-guide/apache-dubbo-page_dev/ title="Apache Dubbo Page Maintenance" class=md-nav__link> Apache Dubbo Page Maintenance </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/committer-guide/release-guide_dev/ title="Release Guide" class=md-nav__link> Release Guide </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/guide_dev/ title="How to contribute" class=md-nav__link> How to contribute </a> </li> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../../developers/developers_dev/ title=Developers class=md-nav__link> Developers </a> </li> </ul> </nav> </li> <!-- Currently active page --> <!-- Determine class according to level --> <!-- Main navigation item with nested items --> <li class=md-nav__item> <a href=../downloads.md title=Downloads class=md-nav__link> Downloads </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 目录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#rest class=md-nav__link> 什么是 REST </a> </li> <li class=md-nav__item> <a href=#dubbo-rest_1 class=md-nav__link> 在 Dubbo 中使用 REST </a> <nav class=md-nav aria-label="在 Dubbo 中使用 REST"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 背景 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 基本用法 </a> <nav class=md-nav aria-label=基本用法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-maven class=md-nav__link> 1. Maven 依赖 </a> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> 2. 定义服务接口 </a> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> 3. 实现服务接口 </a> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> 4. 装配服务 </a> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> 5. 服务提供方的启动类 </a> </li> <li class=md-nav__item> <a href=#6 class=md-nav__link> 6. 启动服务端 </a> </li> <li class=md-nav__item> <a href=#7 class=md-nav__link> 7. 装配调用端 </a> </li> <li class=md-nav__item> <a href=#8 class=md-nav__link> 8. 发起调用 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 进阶 </a> <nav class=md-nav aria-label=进阶> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-rest-annotation class=md-nav__link> A. 在 REST 中使用 Annotation </a> <nav class=md-nav aria-label="A. 在 REST 中使用 Annotation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-java-configuration-protocolregistryapplication class=md-nav__link> 1. 使用 Java Configuration 来配置服务提供方的 protocol、registry、application </a> </li> <li class=md-nav__item> <a href=#2-service-dubbo class=md-nav__link> 2. 使用 @Service 来申明 Dubbo 服务 </a> </li> <li class=md-nav__item> <a href=#3_1 class=md-nav__link> 3. 服务提供方启动类 </a> </li> <li class=md-nav__item> <a href=#4-java-configuration-registryapplication class=md-nav__link> 4. 使用 Java Configuration 来配置服务消费方的 registry、application </a> </li> <li class=md-nav__item> <a href=#5_1 class=md-nav__link> 5. 服务调用方启动类 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#b class=md-nav__link> B. 让协议跑在不同的服务器上 </a> <nav class=md-nav aria-label="B. 让协议跑在不同的服务器上"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-tomcat class=md-nav__link> 1. 增加 Tomcat 相关的依赖 </a> </li> <li class=md-nav__item> <a href=#2-protocol-tomcat-rest-server class=md-nav__link> 2. 配置 protocol 使用 tomcat 作为 REST server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#c-servlet class=md-nav__link> C. 使用外部的 Servlet 容器 </a> <nav class=md-nav aria-label="C. 使用外部的 Servlet 容器"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-pomxml class=md-nav__link> 1. 修改 pom.xml 改变打包方式 </a> </li> <li class=md-nav__item> <a href=#2-rest-providerxml class=md-nav__link> 2. 修改 rest-provider.xml </a> </li> <li class=md-nav__item> <a href=#3-web-infwebxml class=md-nav__link> 3. 配置 WEB-INF/web.xml </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#d-swagger class=md-nav__link> D. 增加 Swagger 支持 </a> <nav class=md-nav aria-label="D. 增加 Swagger 支持"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-swagger-openapi class=md-nav__link> 1. 暴露 Swagger OpenApi </a> </li> <li class=md-nav__item> <a href=#2-swagger-ui class=md-nav__link> 2. 集成 Swagger UI </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 总结 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/apache/dubbo-website/edit/master/zh-cn/blog/dubbo-rest.md title=编辑此页 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=dubbo-rest>在 Dubbo 中使用 REST<a class=headerlink href=#dubbo-rest title="Permanent link">&para;</a></h1> <h2 id=rest>什么是 REST<a class=headerlink href=#rest title="Permanent link">&para;</a></h2> <p>REST 是 Roy Thomas Fielding <sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup> 在 2000 年他的博士论文 <sup id=fnref:2><a class=footnote-ref href=#fn:2>2</a></sup> “架构风格以及基于网络的软件架构设计” 中提出来的一个概念。REST 是 **RE**presentational **S**tate **T**ransfer 的缩写，翻译过来就是 “表现层状态转化”。REST 就是 Roy 在这篇论文中提出的面向互联网的软件所应当具备的架构风格。</p> <p>按照 REpresentational State Transfer 的字面意思，可以把应用看成是一个虚拟的状态机，软件提供的不是服务而是一系列的**资源**，对这些资源的访问通过**统一的操作**来访问，而返回的结果代表了资源状态的一次跃迁。REST 是一种架构风格，如果一个软件架构符合 REST 风格，就可以称之为 RESTful 架构。这个架构应当具备以下一些设计上的约束：资源具有唯一标示、资源之间有关联关系、使用标准的方式来访问、资源有多种表现形式、无状态交互。</p> <p>举例来说，一个简单的静态 HTML 页面的网站就很好的符合了 RESTful 架构风格。访问 <a href=http://acme.com/accounts>http://acme.com/accounts</a> 返回一个包含所有账号的页面，选取其中一个链接 <a href=http://acme.com/accounts/1>http://acme.com/accounts/1</a> 又会返回包含用户 1 的详细信息。爬虫软件在这种场景下工作的很好，当知道了某个网站的首页地址后，可以自举发现这个网站上所有关联的网页。更重要的是，这种访问形式不依赖网站提供的任何客户端，而是仅仅通过 HTTP 标准的访问方式完成的。可以说，HTML 这种超媒体文档的组织形式就是资源的表现层状态迁移的一种形式。</p> <p>对于一个提供服务的动态网站来说，可以按照类似的思路将其 RESTful 化：</p> <ul> <li> <p>GET <a href=http://acme.com/accounts>http://acme.com/accounts</a> 返回所有账号信息</p> </li> <li> <p>POST <a href=http://acme.com/accounts>http://acme.com/accounts</a> 创建一个新的账号</p> </li> <li> <p>GET <a href=http://acme.com/accounts/1>http://acme.com/accounts/1</a> 返回账号 1 的信息</p> </li> <li> <p>DELETE <a href=http://acme.com/accounts/1>http://acme.com/accounts/1</a> 删除账号 1</p> </li> <li> <p>PUT <a href=http://acme.com/accounts/1>http://acme.com/accounts/1</a> 更新账号 1 信息</p> </li> </ul> <p>其中的思路是利用 HTTP 协议的标准方法 POST、DELETE、PUT、GET 来表达对于一个资源的增删改查 (CRUD) 操作，利用 URL 来表示一个资源的唯一标识。对资源访问的错误码也复用 HTTP 协议的状态码。返回结果通常由 json 或 XML 来表示，如果其中包换了对关联资源的访问方式 (所谓的表现层状态迁移) ，这种类型的 RESTful 应用可以进一步的称之为 <em>hypermedia as the engine of application state</em> (HATEOAS) 应用 <sup id=fnref:3><a class=footnote-ref href=#fn:3>3</a></sup>。</p> <p><img alt=micro-image src=../../img/blog/rest-sample.png></p> <p><em>source: <a href=https://www.nginx.com/wp-content/uploads/2016/04/micro-image.png>https://www.nginx.com/wp-content/uploads/2016/04/micro-image.png</a></em></p> <p>这里需要注意的是，按照 Roy 的定义，RESTful 架构风格与 HTTP 协议并没有什么强关联关系。但是，基于 HTTP 的 RESTful 架构风格是实现起来最自然，也是目前使用最广泛的一种实现，我们称之为 RESTful HTTP。同样的，在下文中将会专注在 HTTP 的场景下介绍如何在 Dubbo 框架中将服务暴露成 Restful 架构。</p> <h2 id=dubbo-rest_1>在 Dubbo 中使用 REST<a class=headerlink href=#dubbo-rest_1 title="Permanent link">&para;</a></h2> <h3 id=_1>背景<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <p>随着微服务的流行以及多语言互操作诉求日益增多，在 Dubbo 中暴露 REST 服务变成了一个不容忽视的诉求。为了在 Dubbo 中暴露 REST 服务，通常有两种做法，一种是直接依赖 Sprng REST 或者其他 REST 框架来直接暴露，另一种是通过 Dubbo 框架内置的 REST 能力暴露。两种做法各有优缺点，主要体现在前者与微服务体系中的服务发现组件能够更好的工作，而后者可以无缝的享受到 Dubbo 体系中的服务发现以及服务治理的能力。本文关注的是如何使用后者来暴露 REST 服务。</p> <p>自 <code>2.6.0</code> 开始，Dubbo 合并了当当网捐献的 DubboX <sup id=fnref:4><a class=footnote-ref href=#fn:4>4</a></sup> 中的主要特性，其中就包括了基于 RESTeasy <code>3.0.19.Final</code> 的 REST 支持，具备 JAXRS 2.0 规范中所有的能力。</p> <h3 id=_2>基本用法<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>在以下的例子中，展示了如何通过最传统的 Spring XML 配置的方式来快速的暴露和调用一个 REST 服务。其中底层的 server 使用的是 netty，服务注册发现基于 Zookeeper。</p> <blockquote> <p>注：本章节讨论的示例可以通过 <a href=https://github.com/beiwei30/dubbo-rest-samples/tree/master/basic>https://github.com/beiwei30/dubbo-rest-samples/tree/master/basic</a> 来获得</p> </blockquote> <h4 id=1-maven>1. Maven 依赖<a class=headerlink href=#1-maven title="Permanent link">&para;</a></h4> <p>首先需要在项目中引入 dubbo all-in-one 的依赖以及 RESTEasy 相关的必要依赖。因为在本例中使用 Zookeeper 作为服务发现，还需要引入 Zookeeper client 相关的依赖。为了方便使用，第三方的依赖可以通过框架提供的 BOM 文件 <code>dubbo-dependencies-bom</code> 来引入。</p> <div class=highlight><pre><span></span><code>    <span class=nt>&lt;properties&gt;</span>
        <span class=nt>&lt;dubbo.version&gt;</span>2.6.5<span class=nt>&lt;/dubbo.version&gt;</span>
    <span class=nt>&lt;/properties&gt;</span>

    <span class=nt>&lt;dependencyManagement&gt;</span>
        <span class=nt>&lt;dependencies&gt;</span>
            <span class=nt>&lt;dependency&gt;</span>
                <span class=nt>&lt;groupId&gt;</span>com.alibaba<span class=nt>&lt;/groupId&gt;</span>
                <span class=nt>&lt;artifactId&gt;</span>dubbo-dependencies-bom<span class=nt>&lt;/artifactId&gt;</span>
                <span class=nt>&lt;version&gt;</span>${dubbo.version}<span class=nt>&lt;/version&gt;</span>
                <span class=nt>&lt;type&gt;</span>pom<span class=nt>&lt;/type&gt;</span>
                <span class=nt>&lt;scope&gt;</span>import<span class=nt>&lt;/scope&gt;</span>
            <span class=nt>&lt;/dependency&gt;</span>
        <span class=nt>&lt;/dependencies&gt;</span>
    <span class=nt>&lt;/dependencyManagement&gt;</span>

    <span class=nt>&lt;dependencies&gt;</span>
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>com.alibaba<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>dubbo<span class=nt>&lt;/artifactId&gt;</span>
            <span class=nt>&lt;version&gt;</span>${dubbo.version}<span class=nt>&lt;/version&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=c>&lt;!-- REST support dependencies --&gt;</span>
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>io.netty<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>netty-all<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.jboss.resteasy<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>resteasy-jaxrs<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.jboss.resteasy<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>resteasy-client<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.jboss.resteasy<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>resteasy-netty4<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>javax.validation<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>validation-api<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.jboss.resteasy<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>resteasy-jackson-provider<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.jboss.resteasy<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>resteasy-jaxb-provider<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>javax.servlet<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>javax.servlet-api<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>

        <span class=c>&lt;!-- zookeeper client dependency --&gt;</span>
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.apache.curator<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>curator-framework<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>
    <span class=nt>&lt;/dependencies&gt;</span>
</code></pre></div> <h4 id=2>2. 定义服务接口<a class=headerlink href=#2 title="Permanent link">&para;</a></h4> <p>定义一个服务接口 <code>UserService</code>，该接口提供两个功能，一个是获取指定 User 的详细信息，另一个是新注册一个用户。</p> <div class=highlight><pre><span></span><code><span class=nd>@Path</span><span class=p>(</span><span class=s>&quot;users&quot;</span><span class=p>)</span> <span class=c1>// #1</span>
<span class=nd>@Consumes</span><span class=p>({</span><span class=n>MediaType</span><span class=p>.</span><span class=na>APPLICATION_JSON</span><span class=p>,</span> <span class=n>MediaType</span><span class=p>.</span><span class=na>TEXT_XML</span><span class=p>})</span> <span class=c1>// #2</span>
<span class=nd>@Produces</span><span class=p>({</span><span class=n>MediaType</span><span class=p>.</span><span class=na>APPLICATION_JSON</span><span class=p>,</span> <span class=n>MediaType</span><span class=p>.</span><span class=na>TEXT_XML</span><span class=p>})</span>
<span class=kd>public</span> <span class=kd>interface</span> <span class=nc>UserService</span> <span class=p>{</span>
    <span class=nd>@GET</span> <span class=c1>// #3</span>
    <span class=nd>@Path</span><span class=p>(</span><span class=s>&quot;{id: \\d+}&quot;</span><span class=p>)</span>
    <span class=n>User</span> <span class=nf>getUser</span><span class=p>(</span><span class=nd>@PathParam</span><span class=p>(</span><span class=s>&quot;id&quot;</span><span class=p>)</span> <span class=n>Long</span> <span class=n>id</span><span class=p>);</span>

    <span class=nd>@POST</span> <span class=c1>// #4</span>
    <span class=nd>@Path</span><span class=p>(</span><span class=s>&quot;register&quot;</span><span class=p>)</span>
    <span class=n>Long</span> <span class=nf>registerUser</span><span class=p>(</span><span class=n>User</span> <span class=n>user</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p>通过在接口上用 JaxRS 标准的 annotation 来修饰，我们规定了该服务在 REST 下的访问形式：</p> <ol> <li><code>@Path("users")</code> 定义了 UserService 通过 '/users' 来访问</li> <li>在类级别上定义 <code>@Consumers</code> 和 <code>@Produces</code> 来规定参数以及返回值的类型为 XML 和 JSON。在类级别上定义之后，就可以不用在方法级别上进一步定义了</li> <li>getUser 方法上通过 <code>@GET</code> 定义了接受的 HTTP 方法为 GET，通过 <code>@Path</code> 来规定参数是来自于 URL 中的 path。'GET /users/1' 等同于调用 'getUser(1)'</li> <li>registerUser 方法上通过 <code>@POST</code> 定义了接受的 HTTP 方法为 POST，通过将 JSON 或 XML 格式的 User 数据 POST 到 '/users/register' 上来创建一个 User</li> </ol> <p>在 Dubbo 中，将 REST 相关的 annotation 定义在接口或者实现上都是可以的。这个在设计上是个权衡问题。Annotation 定义在实现类上可以保证接口的纯净，否则对于不需要通过 REST 方式调用的 Dubbo 调用方来说将需要强制依赖 JaxRS 的库，但是同时，对于需要通过 REST 方式调用的 Dubbo 调用方来说，就需要自己来处理 REST 调用相关的细节了。Annotation 定义在接口上，框架会自动处理掉 REST 调用相关的细节，并和 Dubbo 的服务发现以及服务治理功能能够很好的结合起来。在本例中采用了在接口上定义 JaxRS annotation 的形式。</p> <h4 id=3>3. 实现服务接口<a class=headerlink href=#3 title="Permanent link">&para;</a></h4> <p>为了简洁，这里给出的接口的实现只是简单的返回了接口需要的类型的示例，在真实的系统中，逻辑可能会比较复杂。</p> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserServiceImpl</span> <span class=kd>implements</span> <span class=n>UserService</span> <span class=p>{</span>
    <span class=kd>private</span> <span class=kd>final</span> <span class=n>AtomicLong</span> <span class=n>id</span> <span class=o>=</span> <span class=k>new</span> <span class=n>AtomicLong</span><span class=p>();</span>

    <span class=kd>public</span> <span class=n>User</span> <span class=nf>getUser</span><span class=p>(</span><span class=n>Long</span> <span class=n>id</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>User</span><span class=p>(</span><span class=n>id</span><span class=p>,</span> <span class=s>&quot;username-&quot;</span> <span class=o>+</span> <span class=n>id</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=n>Long</span> <span class=nf>registerUser</span><span class=p>(</span><span class=n>User</span> <span class=n>user</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>id</span><span class=p>.</span><span class=na>incrementAndGet</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h4 id=4>4. 装配服务<a class=headerlink href=#4 title="Permanent link">&para;</a></h4> <p>如上所述，本例展示的是如何通过传统的 Spring XML 的方式来装配并暴露 Dubbo 服务。需要指出的是，这里展示了如何同时暴露两种不同的协议，一种是 REST，另一种是原生的 Dubbo 协议。</p> <div class=highlight><pre><span></span><code><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class=nt>&lt;beans</span> <span class=na>xmlns=</span><span class=s>&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class=na>xmlns:dubbo=</span><span class=s>&quot;http://code.alibabatech.com/schema/dubbo&quot;</span>
       <span class=na>xsi:schemaLocation=</span><span class=s>&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;dubbo:application</span> <span class=na>name=</span><span class=s>&quot;rest-provider&quot;</span><span class=nt>/&gt;</span> <span class=c>&lt;!-- #1 --&gt;</span>
    <span class=nt>&lt;dubbo:registry</span> <span class=na>address=</span><span class=s>&quot;zookeeper://127.0.0.1:2181&quot;</span><span class=nt>/&gt;</span> <span class=c>&lt;!-- #2 --&gt;</span>
    <span class=nt>&lt;dubbo:protocol</span> <span class=na>name=</span><span class=s>&quot;rest&quot;</span> <span class=na>port=</span><span class=s>&quot;8080&quot;</span> <span class=na>server=</span><span class=s>&quot;netty&quot;</span><span class=nt>/&gt;</span> <span class=c>&lt;!-- #3 --&gt;</span>
    <span class=nt>&lt;dubbo:protocol</span> <span class=na>name=</span><span class=s>&quot;dubbo&quot;</span> <span class=na>server=</span><span class=s>&quot;netty4&quot;</span><span class=nt>/&gt;</span> <span class=c>&lt;!-- #4 --&gt;</span>
    <span class=nt>&lt;dubbo:service</span> <span class=na>interface=</span><span class=s>&quot;org.apache.dubbo.samples.rest.api.UserService&quot;</span> <span class=na>protocol=</span><span class=s>&quot;rest,dubbo&quot;</span> <span class=na>ref=</span><span class=s>&quot;userService&quot;</span><span class=nt>/&gt;</span>  <span class=c>&lt;!-- #5 --&gt;</span>
    <span class=nt>&lt;bean</span> <span class=na>id=</span><span class=s>&quot;userService&quot;</span> <span class=na>class=</span><span class=s>&quot;org.apache.dubbo.samples.rest.impl.UserServiceImpl&quot;</span><span class=nt>/&gt;</span>
<span class=nt>&lt;/beans&gt;</span> <span class=c>&lt;!-- #6 --&gt;</span>
</code></pre></div> <ol> <li>定义了该应用的名字为 <code>rest-provider</code></li> <li>定义了服务注册通过 Zookeeper，并且 URL 为 "zookeeper://127.0.0.1:2181"</li> <li>在端口 8080 上以 REST 方式暴露服务，底层的传输使用的是 netty</li> <li>在默认端口 20880 上以原生 Dubbo 方式暴露服务，底层的传输方式是 netty</li> <li>将 ‘userService' 的 Spring bean （也就是 UserServiceImpl）暴露为 UserService 服务，支持的协议既包括了 REST 也包括了 Dubbo</li> <li>将 UserServiceImpl 注册成 'userService' 的 Spring bean</li> </ol> <h4 id=5>5. 服务提供方的启动类<a class=headerlink href=#5 title="Permanent link">&para;</a></h4> <p>简单的通过 ClassPathXmlApplicationContext 来加载刚刚配置的 Spring XML 配置 'rest-provider.xml' 即可启动 Dubbo 服务端</p> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>RestProvider</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=p>)</span> <span class=kd>throws</span> <span class=n>IOException</span> <span class=p>{</span>
        <span class=n>ClassPathXmlApplicationContext</span> <span class=n>context</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ClassPathXmlApplicationContext</span><span class=p>(</span><span class=s>&quot;spring/rest-provider.xml&quot;</span><span class=p>);</span>
        <span class=n>context</span><span class=p>.</span><span class=na>start</span><span class=p>();</span>
        <span class=n>System</span><span class=p>.</span><span class=na>in</span><span class=p>.</span><span class=na>read</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h4 id=6>6. 启动服务端<a class=headerlink href=#6 title="Permanent link">&para;</a></h4> <p>由于本例依赖 Zookeeper 做服务注册发现，在启动 RestProvider 之前，需要先启动一个 Zookeeper 服务器。之后就可以之间运行 RestProvider 了。通过以下的输出日志，我们可以知道 UserService 以两种方式对外暴露了同一个服务，其中：</p> <ul> <li>REST: rest://192.168.2.132:8080/org.apache.dubbo.samples.rest.api.UserService</li> <li>Dubbo: dubbo://192.168.2.132:20880/org.apache.dubbo.samples.rest.api.UserServic</li> </ul> <div class=highlight><pre><span></span><code>...
<span class=o>[</span><span class=m>01</span>/01/19 <span class=m>07</span>:18:56:056 CST<span class=o>]</span> main  INFO config.AbstractConfig:  <span class=o>[</span>DUBBO<span class=o>]</span> Export dubbo service org.apache.dubbo.samples.rest.api.UserService to url rest://192.168.2.132:8080/org.apache.dubbo.samples.rest.api.UserService?anyhost<span class=o>=</span>true<span class=p>&amp;</span><span class=nv>application</span><span class=o>=</span>rest-provider<span class=p>&amp;</span>bean.name<span class=o>=</span>org.apache.dubbo.samples.rest.api.UserService<span class=p>&amp;</span>bind.ip<span class=o>=</span><span class=m>192</span>.168.2.132<span class=p>&amp;</span>bind.port<span class=o>=</span><span class=m>8080</span><span class=p>&amp;</span><span class=nv>dubbo</span><span class=o>=</span><span class=m>2</span>.0.2<span class=p>&amp;</span><span class=nv>generic</span><span class=o>=</span>false<span class=p>&amp;</span><span class=nv>interface</span><span class=o>=</span>org.apache.dubbo.samples.rest.api.UserService<span class=p>&amp;</span><span class=nv>methods</span><span class=o>=</span>getUser,registerUser<span class=p>&amp;</span><span class=nv>pid</span><span class=o>=</span><span class=m>27386</span><span class=p>&amp;</span><span class=nv>server</span><span class=o>=</span>netty<span class=p>&amp;</span><span class=nv>side</span><span class=o>=</span>provider<span class=p>&amp;</span><span class=nv>timestamp</span><span class=o>=</span><span class=m>1546341536194</span>, dubbo version: <span class=m>2</span>.6.5, current host: <span class=m>192</span>.168.2.132
...
<span class=o>[</span><span class=m>01</span>/01/19 <span class=m>07</span>:18:57:057 CST<span class=o>]</span> main  INFO config.AbstractConfig:  <span class=o>[</span>DUBBO<span class=o>]</span> Export dubbo service org.apache.dubbo.samples.rest.api.UserService to url dubbo://192.168.2.132:20880/org.apache.dubbo.samples.rest.api.UserService?anyhost<span class=o>=</span>true<span class=p>&amp;</span><span class=nv>application</span><span class=o>=</span>rest-provider<span class=p>&amp;</span>bean.name<span class=o>=</span>org.apache.dubbo.samples.rest.api.UserService<span class=p>&amp;</span>bind.ip<span class=o>=</span><span class=m>192</span>.168.2.132<span class=p>&amp;</span>bind.port<span class=o>=</span><span class=m>20880</span><span class=p>&amp;</span><span class=nv>dubbo</span><span class=o>=</span><span class=m>2</span>.0.2<span class=p>&amp;</span><span class=nv>generic</span><span class=o>=</span>false<span class=p>&amp;</span><span class=nv>interface</span><span class=o>=</span>org.apache.dubbo.samples.rest.api.UserService<span class=p>&amp;</span><span class=nv>methods</span><span class=o>=</span>getUser,registerUser<span class=p>&amp;</span><span class=nv>pid</span><span class=o>=</span><span class=m>27386</span><span class=p>&amp;</span><span class=nv>server</span><span class=o>=</span>netty4<span class=p>&amp;</span><span class=nv>side</span><span class=o>=</span>provider<span class=p>&amp;</span><span class=nv>timestamp</span><span class=o>=</span><span class=m>1546341537392</span>, dubbo version: <span class=m>2</span>.6.5, current host: <span class=m>192</span>.168.2.132
...
</code></pre></div> <p>也可以通过 zkCli 访问 Zookeeper 服务器来验证。'/dubbo/org.apache.dubbo.samples.rest.api.UserService/providers' 路径下返回了一个数组 [dubbo://..., rest:.//...]。数组的第一个元素是 ’dubbo‘ 打头的，而第二个元素是 'rest' 打头的。</p> <div class=highlight><pre><span></span><code><span class=o>[</span>zk: localhost:2181<span class=o>(</span>CONNECTED<span class=o>)</span> <span class=m>10</span><span class=o>]</span> ls /dubbo/org.apache.dubbo.samples.rest.api.UserService/providers
<span class=o>[</span>dubbo%3A%2F%2F192.168.2.132%3A20880%2Forg.apache.dubbo.samples.rest.api.UserService%3Fanyhost%3Dtrue%26application%3Drest-provider%26bean.name%3Dorg.apache.dubbo.samples.rest.api.UserService%26dubbo%3D2.0.2%26generic%3Dfalse%26interface%3Dorg.apache.dubbo.samples.rest.api.UserService%26methods%3DgetUser%2CregisterUser%26pid%3D27386%26server%3Dnetty4%26side%3Dprovider%26timestamp%3D1546341537392, rest%3A%2F%2F192.168.2.132%3A8080%2Forg.apache.dubbo.samples.rest.api.UserService%3Fanyhost%3Dtrue%26application%3Drest-provider%26bean.name%3Dorg.apache.dubbo.samples.rest.api.UserService%26dubbo%3D2.0.2%26generic%3Dfalse%26interface%3Dorg.apache.dubbo.samples.rest.api.UserService%26methods%3DgetUser%2CregisterUser%26pid%3D27386%26server%3Dnetty%26side%3Dprovider%26timestamp%3D1546341536194<span class=o>]</span>
</code></pre></div> <p>可以简单的通过 'curl' 在命令行验证刚才暴露出来的 REST 服务：</p> <div class=highlight><pre><span></span><code>$ curl http://localhost:8080/users/1
<span class=o>{</span><span class=s2>&quot;id&quot;</span>:1,<span class=s2>&quot;name&quot;</span>:<span class=s2>&quot;username-1&quot;</span><span class=o>}</span>
$ curl -X POST -H <span class=s2>&quot;Content-Type: application/json&quot;</span> -d <span class=s1>&#39;{&quot;id&quot;:1,&quot;name&quot;:&quot;Larry Page&quot;}&#39;</span> http://localhost:8080/users/register
<span class=m>1</span>
</code></pre></div> <h4 id=7>7. 装配调用端<a class=headerlink href=#7 title="Permanent link">&para;</a></h4> <p>Dubbo 调用方只需要依赖服务的接口，通过以下方式装配好 Dubbo Consumer，即可发起调用。</p> <div class=highlight><pre><span></span><code><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class=nt>&lt;beans</span> <span class=na>xmlns=</span><span class=s>&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class=na>xmlns:dubbo=</span><span class=s>&quot;http://code.alibabatech.com/schema/dubbo&quot;</span>
       <span class=na>xsi:schemaLocation=</span><span class=s>&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;dubbo:application</span> <span class=na>name=</span><span class=s>&quot;rest-consumer&quot;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;dubbo:registry</span> <span class=na>address=</span><span class=s>&quot;zookeeper://127.0.0.1:2181&quot;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;dubbo:reference</span> <span class=na>id=</span><span class=s>&quot;userService&quot;</span> <span class=na>interface=</span><span class=s>&quot;org.apache.dubbo.samples.rest.api.UserService&quot;</span> <span class=na>protocol=</span><span class=s>&quot;rest&quot;</span><span class=nt>/&gt;</span> <span class=c>&lt;!-- #1 --&gt;</span>
<span class=nt>&lt;/beans&gt;</span>
</code></pre></div> <ol> <li>'userService' 配置的 protocol 为 “rest"，将通过 REST 协议调用服务端</li> </ol> <p>需要特别指出的是，这里显示的指定 protocol="rest" 在通常情况下不是必须的。这里需要显示指定的原因是我们例子中服务端同时暴露了多种协议，这里指定使用 rest 是为了确保调用方走 REST 协议。</p> <h4 id=8>8. 发起调用<a class=headerlink href=#8 title="Permanent link">&para;</a></h4> <p>简单的通过 ClassPathXmlApplicationContext 来加载刚刚配置的 Spring XML 配置 'rest-consumer.xml' 即可发起对 RestProvider 所提供的 UserService 的 REST 服务的调用。</p> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>RestConsumer</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>ClassPathXmlApplicationContext</span> <span class=n>context</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ClassPathXmlApplicationContext</span><span class=p>(</span><span class=s>&quot;spring/rest-consumer.xml&quot;</span><span class=p>);</span>
        <span class=n>context</span><span class=p>.</span><span class=na>start</span><span class=p>();</span>

        <span class=n>UserService</span> <span class=n>userService</span> <span class=o>=</span> <span class=n>context</span><span class=p>.</span><span class=na>getBean</span><span class=p>(</span><span class=s>&quot;userService&quot;</span><span class=p>,</span> <span class=n>UserService</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;&gt;&gt;&gt; &quot;</span> <span class=o>+</span> <span class=n>userService</span><span class=p>.</span><span class=na>getUser</span><span class=p>(</span><span class=mi>1L</span><span class=p>));</span>

        <span class=n>User</span> <span class=n>user</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=p>(</span><span class=mi>2L</span><span class=p>,</span> <span class=s>&quot;Larry Page&quot;</span><span class=p>);</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;&gt;&gt;&gt; &quot;</span> <span class=o>+</span> <span class=n>userService</span><span class=p>.</span><span class=na>registerUser</span><span class=p>(</span><span class=n>user</span><span class=p>));</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>这里分别展示了对 'getUser' 和 'registerUser' 的调用，输出结果如下：</p> <div class=highlight><pre><span></span><code>&gt;&gt;&gt; User<span class=o>{</span><span class=nv>id</span><span class=o>=</span><span class=m>1</span>, <span class=nv>name</span><span class=o>=</span><span class=s1>&#39;username-1&#39;</span><span class=o>}</span>
&gt;&gt;&gt; <span class=m>2</span>
</code></pre></div> <h3 id=_3>进阶<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <h4 id=a-rest-annotation>A. 在 REST 中使用 Annotation<a class=headerlink href=#a-rest-annotation title="Permanent link">&para;</a></h4> <p>在 Dubbo 中使用 annotation 而不是 Spring XML 来暴露和引用服务，对于 REST 协议来说并没有什么不同。有关如何使用 annotation 更详细的用法，请参阅《在 Dubbo 中使用注解》章节。这里主要展示一下与上面基于 Spring XML 配置的例子不同之处。</p> <blockquote> <p>注：本章节讨论的示例可以通过 <a href=https://github.com/beiwei30/dubbo-rest-samples/tree/master/annotation>https://github.com/beiwei30/dubbo-rest-samples/tree/master/annotation</a> 来获得</p> </blockquote> <h5 id=1-java-configuration-protocolregistryapplication>1. 使用 Java Configuration 来配置服务提供方的 protocol、registry、application<a class=headerlink href=#1-java-configuration-protocolregistryapplication title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code>    <span class=nd>@Configuration</span>
    <span class=nd>@EnableDubbo</span><span class=p>(</span><span class=n>scanBasePackages</span> <span class=o>=</span> <span class=s>&quot;org.apache.dubbo.samples.rest.impl&quot;</span><span class=p>)</span> <span class=c1>// #1</span>
    <span class=kd>static</span> <span class=kd>class</span> <span class=nc>ProviderConfiguration</span> <span class=p>{</span>
        <span class=nd>@Bean</span> <span class=c1>// #2</span>
        <span class=kd>public</span> <span class=n>ProtocolConfig</span> <span class=nf>protocolConfig</span><span class=p>()</span> <span class=p>{</span>
            <span class=n>ProtocolConfig</span> <span class=n>protocolConfig</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ProtocolConfig</span><span class=p>();</span>
            <span class=n>protocolConfig</span><span class=p>.</span><span class=na>setName</span><span class=p>(</span><span class=s>&quot;rest&quot;</span><span class=p>);</span>
            <span class=n>protocolConfig</span><span class=p>.</span><span class=na>setPort</span><span class=p>(</span><span class=mi>8080</span><span class=p>);</span>
            <span class=n>protocolConfig</span><span class=p>.</span><span class=na>setServer</span><span class=p>(</span><span class=s>&quot;netty&quot;</span><span class=p>);</span>
            <span class=k>return</span> <span class=n>protocolConfig</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=nd>@Bean</span> <span class=c1>// #3</span>
        <span class=kd>public</span> <span class=n>RegistryConfig</span> <span class=nf>registryConfig</span><span class=p>()</span> <span class=p>{</span>
            <span class=n>RegistryConfig</span> <span class=n>registryConfig</span> <span class=o>=</span> <span class=k>new</span> <span class=n>RegistryConfig</span><span class=p>();</span>
            <span class=n>registryConfig</span><span class=p>.</span><span class=na>setProtocol</span><span class=p>(</span><span class=s>&quot;zookeeper&quot;</span><span class=p>);</span>
            <span class=n>registryConfig</span><span class=p>.</span><span class=na>setAddress</span><span class=p>(</span><span class=s>&quot;localhost&quot;</span><span class=p>);</span>
            <span class=n>registryConfig</span><span class=p>.</span><span class=na>setPort</span><span class=p>(</span><span class=mi>2181</span><span class=p>);</span>
            <span class=k>return</span> <span class=n>registryConfig</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=nd>@Bean</span>
        <span class=kd>public</span> <span class=n>ApplicationConfig</span> <span class=nf>applicationConfig</span><span class=p>()</span> <span class=p>{</span>
            <span class=n>ApplicationConfig</span> <span class=n>applicationConfig</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ApplicationConfig</span><span class=p>();</span>
            <span class=n>applicationConfig</span><span class=p>.</span><span class=na>setName</span><span class=p>(</span><span class=s>&quot;rest-provider&quot;</span><span class=p>);</span>
            <span class=k>return</span> <span class=n>applicationConfig</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
</code></pre></div> <ol> <li>通过 <code>@EnableDubbo</code> 来指定需要扫描 Dubbo 服务的包名，在本例中，UserServiceImpl 在 "org.apache.dubbo.samples.rest.impl" 下</li> <li>通过提供一个 ProtocolConfig 的 Spring Bean 来指定服务提供方按照 REST 来暴露服务</li> <li>通过提供一个 RegistryConfig 的 Spring Bean 来指定服务提供方所使用的服务注册机制</li> </ol> <h5 id=2-service-dubbo>2. 使用 <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/Service title="GitHub User: Service">@Service</a> 来申明 Dubbo 服务<a class=headerlink href=#2-service-dubbo title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><span class=nd>@Service</span> <span class=c1>// #1</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserServiceImpl</span> <span class=kd>implements</span> <span class=n>UserService</span> <span class=p>{</span>
    <span class=p>...</span>
<span class=p>}</span>
</code></pre></div> <ol> <li>简单的使用 <code>@Service</code> 或者 <code>@Service(protocol = "rest")</code> 修饰 "UserServiceImpl" 来申明一个 Dubbo 服务，这里 <code>protocol = "rest"</code> 不是必须提供的，原因是通过 Java Configuration 只配置了一个 ProtocolConfig 的示例，在这种情况下，Dubbo 会自动装配该协议到服务中</li> </ol> <h5 id=3_1>3. 服务提供方启动类<a class=headerlink href=#3_1 title="Permanent link">&para;</a></h5> <p>通过使用 <code>ProviderConfiguration</code> 来初始化一个 <code>AnnotationConfigApplicationContext</code> 实例，就可以完全摆脱 Spring XML 的配置文件，完全借助 annotation 来装配好一个 Dubbo 的服务提供方。</p> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>RestProvider</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=p>)</span> <span class=kd>throws</span> <span class=n>IOException</span> <span class=p>{</span>
        <span class=n>AnnotationConfigApplicationContext</span> <span class=n>context</span> <span class=o>=</span> <span class=k>new</span> <span class=n>AnnotationConfigApplicationContext</span><span class=p>(</span><span class=n>ProviderConfiguration</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
        <span class=n>context</span><span class=p>.</span><span class=na>start</span><span class=p>();</span>
        <span class=n>System</span><span class=p>.</span><span class=na>in</span><span class=p>.</span><span class=na>read</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h5 id=4-java-configuration-registryapplication>4. 使用 Java Configuration 来配置服务消费方的 registry、application<a class=headerlink href=#4-java-configuration-registryapplication title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code>    <span class=nd>@Configuration</span>
    <span class=nd>@EnableDubbo</span><span class=p>(</span><span class=n>scanBasePackages</span> <span class=o>=</span> <span class=s>&quot;org.apache.dubbo.samples.rest.comp&quot;</span><span class=p>)</span> <span class=c1>// #1</span>
    <span class=nd>@ComponentScan</span><span class=p>({</span><span class=s>&quot;org.apache.dubbo.samples.rest.comp&quot;</span><span class=p>})</span> <span class=c1>// #2</span>
    <span class=kd>static</span> <span class=kd>class</span> <span class=nc>ConsumerConfiguration</span> <span class=p>{</span>
        <span class=nd>@Bean</span> <span class=c1>// #3</span>
        <span class=kd>public</span> <span class=n>RegistryConfig</span> <span class=nf>registryConfig</span><span class=p>()</span> <span class=p>{</span>
            <span class=n>RegistryConfig</span> <span class=n>registryConfig</span> <span class=o>=</span> <span class=k>new</span> <span class=n>RegistryConfig</span><span class=p>();</span>
            <span class=n>registryConfig</span><span class=p>.</span><span class=na>setProtocol</span><span class=p>(</span><span class=s>&quot;zookeeper&quot;</span><span class=p>);</span>
            <span class=n>registryConfig</span><span class=p>.</span><span class=na>setAddress</span><span class=p>(</span><span class=s>&quot;localhost&quot;</span><span class=p>);</span>
            <span class=n>registryConfig</span><span class=p>.</span><span class=na>setPort</span><span class=p>(</span><span class=mi>2181</span><span class=p>);</span>
            <span class=k>return</span> <span class=n>registryConfig</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=nd>@Bean</span>
        <span class=kd>public</span> <span class=n>ApplicationConfig</span> <span class=nf>applicationConfig</span><span class=p>()</span> <span class=p>{</span>
            <span class=n>ApplicationConfig</span> <span class=n>applicationConfig</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ApplicationConfig</span><span class=p>();</span>
            <span class=n>applicationConfig</span><span class=p>.</span><span class=na>setName</span><span class=p>(</span><span class=s>&quot;rest-consumer&quot;</span><span class=p>);</span>
            <span class=k>return</span> <span class=n>applicationConfig</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
</code></pre></div> <ol> <li>通过 <code>@EnableDubbo</code> 来指定需要扫描 Dubbo 服务引用 <code>@Reference</code> 的包名。在本例中，UserService 的引用在 "org.apache.dubbo.samples.rest.comp" 下</li> <li>通过 <code>@ComponentScan</code> 来指定需要扫描的 Spring Bean 的包名。在本例中，包含 UserService 引用的类 UserServiceComponent 本身需要是一个 Spring Bean，以方便调用，所以，这里指定的包名也是 "org.apache.dubbo.samples.rest.comp"</li> <li>通过提供一个 RegistryConfig 的 Spring Bean 来指定服务消费方所使用的服务发现机制</li> </ol> <p>这里提到的 UserServiceComponent 的 Spring Bean 定义如下：</p> <div class=highlight><pre><span></span><code><span class=nd>@Component</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserServiceComponent</span> <span class=kd>implements</span> <span class=n>UserService</span> <span class=p>{</span> <span class=c1>// #1</span>
    <span class=nd>@Reference</span>
    <span class=kd>private</span> <span class=n>UserService</span> <span class=n>userService</span><span class=p>;</span>


    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=n>User</span> <span class=nf>getUser</span><span class=p>(</span><span class=n>Long</span> <span class=n>id</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>userService</span><span class=p>.</span><span class=na>getUser</span><span class=p>(</span><span class=n>id</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=n>Long</span> <span class=nf>registerUser</span><span class=p>(</span><span class=n>User</span> <span class=n>user</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>userService</span><span class=p>.</span><span class=na>registerUser</span><span class=p>(</span><span class=n>user</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <ol> <li>这里比较好的实践是让这个 Spring Bean 也继承 <code>UserService</code> 接口，这样在调用的时候也可以面向接口编程</li> </ol> <h5 id=5_1>5. 服务调用方启动类<a class=headerlink href=#5_1 title="Permanent link">&para;</a></h5> <p>通过使用 <code>ConsumerConfiguration</code> 来初始化一个 <code>AnnotationConfigApplicationContext</code> 实例，就可以完全摆脱 Spring XML 的配置文件，完全借助 annotation 来装配好一个 Dubbo 的服务消费方。然后就可以通过查找 <code>UserServiceComponent</code> 类型的 Spring Bean 来发起远程调用。</p> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>RestConsumer</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>AnnotationConfigApplicationContext</span> <span class=n>context</span> <span class=o>=</span> <span class=k>new</span> <span class=n>AnnotationConfigApplicationContext</span><span class=p>(</span><span class=n>ConsumerConfiguration</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
        <span class=n>context</span><span class=p>.</span><span class=na>start</span><span class=p>();</span>

        <span class=n>UserService</span> <span class=n>userService</span> <span class=o>=</span> <span class=n>context</span><span class=p>.</span><span class=na>getBean</span><span class=p>(</span><span class=n>UserServiceComponent</span><span class=p>.</span><span class=na>class</span><span class=p>);</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;&gt;&gt;&gt; &quot;</span> <span class=o>+</span> <span class=n>userService</span><span class=p>.</span><span class=na>getUser</span><span class=p>(</span><span class=mi>1L</span><span class=p>));</span>

        <span class=n>User</span> <span class=n>user</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=p>(</span><span class=mi>2L</span><span class=p>,</span> <span class=s>&quot;Larry Page&quot;</span><span class=p>);</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;&gt;&gt;&gt; &quot;</span> <span class=o>+</span> <span class=n>userService</span><span class=p>.</span><span class=na>registerUser</span><span class=p>(</span><span class=n>user</span><span class=p>));</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h4 id=b>B. 让协议跑在不同的服务器上<a class=headerlink href=#b title="Permanent link">&para;</a></h4> <p>目前 REST 协议在 Dubbo 中可以跑在五种不同的 server 上，分别是：</p> <ul> <li>"netty": 直接基于 netty 框架的 rest server，通过 <code>&lt;dubbo:protocol name="rest" server="netty"/&gt;</code> 来配置</li> <li>"tomcat": 基于嵌入式 tomcat 的 rest server，通过 <code>&lt;dubbo:protocol name="rest" server="tomcat"/&gt;</code> 来配置</li> <li>"jetty": <strong>默认选项</strong>，基于嵌入式 jetty 的 rest server，通过 <code>&lt;dubbo:protocol name="rest" server="jetty"/&gt;</code> 来配置</li> <li>"sunhttp": 使用 JDK 内置的 Sun HTTP server 作为 rest server，通过 <code>&lt;dubbo:protocol name="rest" server="sunhttp"/&gt;</code> 来配置，仅推荐在开发环境中使用</li> <li>"servlet”: 采用外部应用服务器的 servlet 容器来做 rest server，这个时候，除了配置 <code>&lt;dubbo:protocol name="rest" server="servlet"/&gt;</code> 之外，还需要在 web.xml 中做额外的配置</li> </ul> <p>由于以上的例子展示了 "netty" 作为 rest server，下面演示一下使用嵌入式 tomcat 的 rest server 的用法。</p> <blockquote> <p>注：本章节讨论的示例可以通过 <a href=https://github.com/beiwei30/dubbo-rest-samples/tree/master/tomcat>https://github.com/beiwei30/dubbo-rest-samples/tree/master/tomcat</a> 来获得</p> </blockquote> <h5 id=1-tomcat>1. 增加 Tomcat 相关的依赖<a class=headerlink href=#1-tomcat title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code>        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.apache.tomcat.embed<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>tomcat-embed-core<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.apache.tomcat.embed<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>tomcat-embed-logging-juli<span class=nt>&lt;/artifactId&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>
</code></pre></div> <h5 id=2-protocol-tomcat-rest-server>2. 配置 protocol 使用 tomcat 作为 REST server<a class=headerlink href=#2-protocol-tomcat-rest-server title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><span class=nt>&lt;dubbo:protocol</span> <span class=na>name=</span><span class=s>&quot;rest&quot;</span> <span class=na>port=</span><span class=s>&quot;8080&quot;</span> <span class=na>server=</span><span class=s>&quot;tomcat&quot;</span><span class=nt>/&gt;</span>
</code></pre></div> <p>启动服务提供方之后，在以下的输出将会出现与嵌入式 Tomcat 相关的日志信息：</p> <div class=highlight><pre><span></span><code>Jan <span class=m>01</span>, <span class=m>2019</span> <span class=m>10</span>:15:12 PM org.apache.catalina.core.StandardContext setPath
WARNING: A context path must either be an empty string or start with a <span class=s1>&#39;/&#39;</span> and <span class=k>do</span> not end with a <span class=s1>&#39;/&#39;</span>. The path <span class=o>[</span>/<span class=o>]</span> does not meet these criteria and has been changed to <span class=o>[]</span>
Jan <span class=m>01</span>, <span class=m>2019</span> <span class=m>10</span>:15:13 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler <span class=o>[</span><span class=s2>&quot;http-nio-8080&quot;</span><span class=o>]</span>
Jan <span class=m>01</span>, <span class=m>2019</span> <span class=m>10</span>:15:13 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector
INFO: Using a shared selector <span class=k>for</span> servlet write/read
Jan <span class=m>01</span>, <span class=m>2019</span> <span class=m>10</span>:15:13 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service <span class=o>[</span>Tomcat<span class=o>]</span>
Jan <span class=m>01</span>, <span class=m>2019</span> <span class=m>10</span>:15:13 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/8.5.31
Jan <span class=m>01</span>, <span class=m>2019</span> <span class=m>10</span>:15:13 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler <span class=o>[</span><span class=s2>&quot;http-nio-8080&quot;</span><span class=o>]</span>
</code></pre></div> <h4 id=c-servlet>C. 使用外部的 Servlet 容器<a class=headerlink href=#c-servlet title="Permanent link">&para;</a></h4> <p>进一步的，还可以使用外部的 servlet 容器来启动 Dubbo 的 REST 服务。</p> <blockquote> <p>注：本章节讨论的示例可以通过 <a href=https://github.com/beiwei30/dubbo-rest-samples/tree/master/servlet>https://github.com/beiwei30/dubbo-rest-samples/tree/master/servlet</a> 来获得</p> </blockquote> <h5 id=1-pomxml>1. 修改 pom.xml 改变打包方式<a class=headerlink href=#1-pomxml title="Permanent link">&para;</a></h5> <p>因为使用的是外部的 servlet 容器，需要将打包方式修改为 "war"</p> <div class=highlight><pre><span></span><code>    <span class=nt>&lt;packaging&gt;</span>war<span class=nt>&lt;/packaging&gt;</span>
</code></pre></div> <h5 id=2-rest-providerxml>2. 修改 rest-provider.xml<a class=headerlink href=#2-rest-providerxml title="Permanent link">&para;</a></h5> <p>配置 "server" 为 "servlet" 表示将使用外部的 servlet 容器。并配置 "contextpath" 为 ""，原因是在使用外部 servlet 容器时，Dubbo 的 REST 支持需要知道被托管的 webapp 的 contextpath 是什么。这里我们计划通过 root context path 来部署应用，所以配置其为 ""。</p> <div class=highlight><pre><span></span><code>    <span class=nt>&lt;dubbo:protocol</span> <span class=na>name=</span><span class=s>&quot;rest&quot;</span> <span class=na>port=</span><span class=s>&quot;8080&quot;</span> <span class=na>server=</span><span class=s>&quot;servlet&quot;</span> <span class=na>contextpath=</span><span class=s>&quot;&quot;</span><span class=nt>/&gt;</span>
</code></pre></div> <h5 id=3-web-infwebxml>3. 配置 WEB-INF/web.xml<a class=headerlink href=#3-web-infwebxml title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><span class=cp>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class=nt>&lt;web-app</span> <span class=na>xmlns=</span><span class=s>&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span>
         <span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span class=na>xsi:schemaLocation=</span><span class=s>&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;</span>
         <span class=na>version=</span><span class=s>&quot;3.1&quot;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;context-param&gt;</span> <span class=c>&lt;!-- #1 --&gt;</span>
        <span class=nt>&lt;param-name&gt;</span>contextConfigLocation<span class=nt>&lt;/param-name&gt;</span>
        <span class=nt>&lt;param-value&gt;</span>/WEB-INF/classes/spring/rest-provider.xml<span class=nt>&lt;/param-value&gt;</span>
    <span class=nt>&lt;/context-param&gt;</span>

    <span class=nt>&lt;listener&gt;</span>
        <span class=nt>&lt;listener-class&gt;</span>com.alibaba.dubbo.remoting.http.servlet.BootstrapListener<span class=nt>&lt;/listener-class&gt;</span>
    <span class=nt>&lt;/listener&gt;</span>

    <span class=nt>&lt;listener&gt;</span>
        <span class=nt>&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span class=nt>&lt;/listener-class&gt;</span>
    <span class=nt>&lt;/listener&gt;</span>

    <span class=nt>&lt;servlet&gt;</span> <span class=c>&lt;!-- #2 --&gt;</span>
        <span class=nt>&lt;servlet-name&gt;</span>dispatcher<span class=nt>&lt;/servlet-name&gt;</span>
        <span class=nt>&lt;servlet-class&gt;</span>com.alibaba.dubbo.remoting.http.servlet.DispatcherServlet<span class=nt>&lt;/servlet-class&gt;</span>
        <span class=nt>&lt;load-on-startup&gt;</span>1<span class=nt>&lt;/load-on-startup&gt;</span>
    <span class=nt>&lt;/servlet&gt;</span>
    <span class=nt>&lt;servlet-mapping&gt;</span>
        <span class=nt>&lt;servlet-name&gt;</span>dispatcher<span class=nt>&lt;/servlet-name&gt;</span>
        <span class=nt>&lt;url-pattern&gt;</span>/api/*<span class=nt>&lt;/url-pattern&gt;</span>
    <span class=nt>&lt;/servlet-mapping&gt;</span>
</code></pre></div> <ol> <li>配置 Dubbo 和 Spring 相关的 ContextListener，打开 Dubbo HTTP 支持，以及通过 rest-provider.xml 来装配 Dubbo 服务</li> <li>配置 Dubbo HTTP 所需的 DiapatcherServlet</li> </ol> <p>这样做之后，不再需要 RestProvider 来启动 Dubbo 服务，可以将其从工程中删掉。对应的，现在 Dubbo 的服务将会随着 Servlet 容器的启动而启动。启动完毕之后，可以通过类似 "<a href=http://localhost:8080/api/users/1>http://localhost:8080/api/users/1</a>" 来访问暴露出的 REST 服务。需要注意的是，这个例子里假定了服务提供方的 WAR 包部署在 root context path 上，所以当该应用通过 IDE 配置的 tomcat server 启动时，需要指定 Application Context 为 "/"。</p> <h4 id=d-swagger>D. 增加 Swagger 支持<a class=headerlink href=#d-swagger title="Permanent link">&para;</a></h4> <p>在上面使用外部 Servlet 容器的例子的基础上，讨论如何暴露 Swagger OpenApi 以及如何继承 Swagger UI。</p> <blockquote> <p>注：本章节讨论的示例可以通过 <a href=https://github.com/beiwei30/dubbo-rest-samples/tree/master/servlet>https://github.com/beiwei30/dubbo-rest-samples/tree/master/servlet</a> 来获得</p> </blockquote> <h5 id=1-swagger-openapi>1. 暴露 Swagger OpenApi<a class=headerlink href=#1-swagger-openapi title="Permanent link">&para;</a></h5> <p>增加 swagger 相关依赖，以便通过 "<a href=http://localhost:8080/openapi.json>http://localhost:8080/openapi.json</a>" 来访问 REST 服务的描述</p> <div class=highlight><pre><span></span><code>    <span class=nt>&lt;properties&gt;</span>
        <span class=nt>&lt;swagger.version&gt;</span>2.0.6<span class=nt>&lt;/swagger.version&gt;</span>
    <span class=nt>&lt;/properties&gt;</span>

    <span class=nt>&lt;dependencies&gt;</span> 
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>io.swagger.core.v3<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>swagger-jaxrs2<span class=nt>&lt;/artifactId&gt;</span>
            <span class=nt>&lt;version&gt;</span>${swagger.version}<span class=nt>&lt;/version&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>io.swagger.core.v3<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>swagger-jaxrs2-servlet-initializer<span class=nt>&lt;/artifactId&gt;</span>
            <span class=nt>&lt;version&gt;</span>${swagger.version}<span class=nt>&lt;/version&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>
    <span class=nt>&lt;/dependencies&gt;</span>
</code></pre></div> <p>修改 WEB-INF/web.xml，增加 openapi servlet 的配置</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;web-app&gt;</span>
    ...
    <span class=nt>&lt;servlet&gt;</span> <span class=c>&lt;!-- #3 --&gt;</span>
        <span class=nt>&lt;servlet-name&gt;</span>openapi<span class=nt>&lt;/servlet-name&gt;</span>
        <span class=nt>&lt;servlet-class&gt;</span>io.swagger.v3.jaxrs2.integration.OpenApiServlet<span class=nt>&lt;/servlet-class&gt;</span>
    <span class=nt>&lt;/servlet&gt;</span>
    <span class=nt>&lt;servlet-mapping&gt;</span>
        <span class=nt>&lt;servlet-name&gt;</span>openapi<span class=nt>&lt;/servlet-name&gt;</span>
        <span class=nt>&lt;url-pattern&gt;</span>/openapi.json<span class=nt>&lt;/url-pattern&gt;</span>
        <span class=nt>&lt;url-pattern&gt;</span>/openapi.yaml<span class=nt>&lt;/url-pattern&gt;</span>
    <span class=nt>&lt;/servlet-mapping&gt;</span>
<span class=nt>&lt;/web-app&gt;</span>
</code></pre></div> <p>重新启动应用之后，可以通过访问 "<a href=http://localhost:8080/openapi.json>http://localhost:8080/openapi.json</a>" 或者 "<a href=http://localhost:8080/openapi.yaml>http://localhost:8080/openapi.yaml</a>" 来访问暴露出的 openapi 的契约，以下是 yaml 格式的表述：</p> <div class=highlight><pre><span></span><code><span class=nt>openapi</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">3.0.1</span>
<span class=nt>paths</span><span class=p>:</span>
  <span class="l l-Scalar l-Scalar-Plain">/api/users/{id}</span><span class="p p-Indicator">:</span>
    <span class=nt>get</span><span class=p>:</span>
      <span class=nt>operationId</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">getUser</span>
      <span class=nt>parameters</span><span class=p>:</span>
      <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">id</span>
        <span class=nt>in</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">path</span>
        <span class=nt>required</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class=nt>schema</span><span class=p>:</span>
          <span class=nt>type</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">integer</span>
          <span class=nt>format</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">int64</span>
      <span class=nt>responses</span><span class=p>:</span>
        <span class=nt>default</span><span class=p>:</span>
          <span class=nt>description</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">default response</span>
          <span class=nt>content</span><span class=p>:</span>
            <span class=nt>application/json</span><span class=p>:</span>
              <span class=nt>schema</span><span class=p>:</span>
                <span class=nt>$ref</span><span class=p>:</span> <span class=s>&#39;#/components/schemas/User&#39;</span>
            <span class=nt>text/xml</span><span class=p>:</span>
              <span class=nt>schema</span><span class=p>:</span>
                <span class=nt>$ref</span><span class=p>:</span> <span class=s>&#39;#/components/schemas/User&#39;</span>
  <span class=nt>/api/users/register</span><span class=p>:</span>
    <span class=nt>post</span><span class=p>:</span>
      <span class=nt>operationId</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">registerUser</span>
      <span class=nt>requestBody</span><span class=p>:</span>
        <span class=nt>description</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">a user to register</span>
        <span class=nt>content</span><span class=p>:</span>
          <span class=nt>application/json</span><span class=p>:</span>
            <span class=nt>schema</span><span class=p>:</span>
              <span class=nt>$ref</span><span class=p>:</span> <span class=s>&#39;#/components/schemas/User&#39;</span>
          <span class=nt>text/xml</span><span class=p>:</span>
            <span class=nt>schema</span><span class=p>:</span>
              <span class=nt>$ref</span><span class=p>:</span> <span class=s>&#39;#/components/schemas/User&#39;</span>
      <span class=nt>responses</span><span class=p>:</span>
        <span class=nt>default</span><span class=p>:</span>
          <span class=nt>description</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">default response</span>
          <span class=nt>content</span><span class=p>:</span>
            <span class=nt>application/json</span><span class=p>:</span>
              <span class=nt>schema</span><span class=p>:</span>
                <span class=nt>type</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">integer</span>
                <span class=nt>format</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">int64</span>
            <span class=nt>text/xml</span><span class=p>:</span>
              <span class=nt>schema</span><span class=p>:</span>
                <span class=nt>type</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">integer</span>
                <span class=nt>format</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">int64</span>
<span class=nt>components</span><span class=p>:</span>
  <span class=nt>schemas</span><span class=p>:</span>
    <span class=nt>User</span><span class=p>:</span>
      <span class=nt>type</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
      <span class=nt>properties</span><span class=p>:</span>
        <span class=nt>id</span><span class=p>:</span>
          <span class=nt>type</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">integer</span>
          <span class=nt>format</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">int64</span>
        <span class=nt>name</span><span class=p>:</span>
          <span class=nt>type</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</code></pre></div> <h5 id=2-swagger-ui>2. 集成 Swagger UI<a class=headerlink href=#2-swagger-ui title="Permanent link">&para;</a></h5> <p>在 pom.xml 中继续增加 swagger-ui 的依赖，这里使用的是 webjars 的版本，从集成的角度来说更加简洁。webjars 的工作机制可以参阅 webjars 官网 <sup id=fnref:6><a class=footnote-ref href=#fn:6>6</a></sup></p> <div class=highlight><pre><span></span><code>    <span class=nt>&lt;properties&gt;</span>
        <span class=nt>&lt;swagger.webjar.version&gt;</span>3.20.3<span class=nt>&lt;/swagger.webjar.version&gt;</span>
    <span class=nt>&lt;/properties&gt;</span>
    <span class=nt>&lt;dependencies&gt;</span> 
        <span class=nt>&lt;dependency&gt;</span>
            <span class=nt>&lt;groupId&gt;</span>org.webjars<span class=nt>&lt;/groupId&gt;</span>
            <span class=nt>&lt;artifactId&gt;</span>swagger-ui<span class=nt>&lt;/artifactId&gt;</span>
            <span class=nt>&lt;version&gt;</span>${swagger.webjar.version}<span class=nt>&lt;/version&gt;</span>
        <span class=nt>&lt;/dependency&gt;</span>
    <span class=nt>&lt;/dependencies&gt;</span>
</code></pre></div> <p>在工程的 webapp/WEB-INF 根目录下增加一个 HTML 文件，内容如下。HTML 文件名可以为任何名字，没有硬性要求，如果该文件被命名为 "swagger-ui.html"，那么你可以通过访问 “<a href=http://localhost:8080/swagger-ui.html>http://localhost:8080/swagger-ui.html</a>" 来访问 swagger UI。本例为了演示方便起见，将其命名为 "index.html"，这样当访问 "<a href=http://localhost:8080>http://localhost:8080</a>" 时，就可以很方便的得到 swagger UI 的页面。</p> <div class=highlight><pre><span></span><code><span class=cp>&lt;!DOCTYPE html&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&quot;UTF-8&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>API UI<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;webjars/swagger-ui/3.20.3/swagger-ui.css&quot;</span> <span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;icon&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;image/png&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;webjars/swagger-ui/3.20.3/favicon-32x32.png&quot;</span> <span class=na>sizes</span><span class=o>=</span><span class=s>&quot;32x32&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;icon&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;image/png&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;webjars/swagger-ui/3.20.3/favicon-16x16.png&quot;</span> <span class=na>sizes</span><span class=o>=</span><span class=s>&quot;16x16&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
        <span class=nt>html</span>
        <span class=p>{</span>
            <span class=k>box-sizing</span><span class=p>:</span> <span class=kc>border-box</span><span class=p>;</span>
            <span class=k>overflow</span><span class=p>:</span> <span class=bp>-moz-</span><span class=n>scrollbars-vertical</span><span class=p>;</span>
            <span class=k>overflow-y</span><span class=p>:</span> <span class=kc>scroll</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=o>*,</span>
        <span class=o>*</span><span class=p>:</span><span class=nd>before</span><span class=o>,</span>
        <span class=o>*</span><span class=p>:</span><span class=nd>after</span>
        <span class=p>{</span>
            <span class=k>box-sizing</span><span class=p>:</span> <span class=kc>inherit</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=nt>body</span>
        <span class=p>{</span>
            <span class=k>margin</span><span class=p>:</span><span class=mi>0</span><span class=p>;</span>
            <span class=k>background</span><span class=p>:</span> <span class=mh>#fafafa</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;swagger-ui&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;webjars/swagger-ui/3.20.3/swagger-ui-bundle.js&quot;</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;webjars/swagger-ui/3.20.3/swagger-ui-standalone-preset.js&quot;</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
    <span class=nb>window</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
        <span class=nb>window</span><span class=p>.</span><span class=nx>ui</span> <span class=o>=</span> <span class=nx>SwaggerUIBundle</span><span class=p>({</span>
            <span class=nx>url</span><span class=o>:</span> <span class=s2>&quot;openapi.json&quot;</span><span class=p>,</span>
            <span class=nx>dom_id</span><span class=o>:</span> <span class=s1>&#39;#swagger-ui&#39;</span><span class=p>,</span>
            <span class=nx>deepLinking</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
            <span class=nx>presets</span><span class=o>:</span> <span class=p>[</span>
                <span class=nx>SwaggerUIBundle</span><span class=p>.</span><span class=nx>presets</span><span class=p>.</span><span class=nx>apis</span><span class=p>,</span>
                <span class=nx>SwaggerUIStandalonePreset</span>
            <span class=p>],</span>
            <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
                <span class=nx>SwaggerUIBundle</span><span class=p>.</span><span class=nx>plugins</span><span class=p>.</span><span class=nx>DownloadUrl</span>
            <span class=p>],</span>
            <span class=nx>layout</span><span class=o>:</span> <span class=s2>&quot;StandaloneLayout&quot;</span>
        <span class=p>});</span>
    <span class=p>};</span>
<span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>

<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>再次重启服务器，并访问 "<a href=http://localhost:8080>http://localhost:8080</a>" 时，将会看到 swagger UI 页面的展示：</p> <p><img alt=swagger-ui src=../../img/blog/swagger-ui.png></p> <p>通过 Swagger UI 可以很方便的浏览当前服务器提供的 REST 服务的文档信息，甚至可以直接调用来做服务测试。以 '/api/users/{id}' 为例，测试结果如下图所示：</p> <p><img alt=swagger-ui-execute src=../../img/blog/swagger-ui-execute.png></p> <h2 id=_4>总结<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <p>本文主要关注了在 Dubbo 中支持 REST 协议的情况。首先探索了 REST 概念的起源，澄清了 REST 是一种适合互联网的软件架构风格，进一步的说明了 REST 风格的架构可以与 HTTP 协议无关，但是 HTTP 协议的确是 REST 风格架构的最常用甚至是最佳的组合和搭档。然后讨论了如何在 Dubbo 中开发 REST HTTP 的几种典型用法，其中包括了通过不同的配置，如传统的 Spring XML，完全通过 annotation 来配置两种典型的用法，本文中没有涉及到的还有纯 API 编程方式，Spring Boot 配置方式也是完全可以的，因为篇幅原因没有提及；还讨论了如何通过不同的 REST server 来暴露 REST HTTP 服务，包括了 embedded tomcat，netty，以及外置的 servlet 容器等几种用法。最后，在外置的 servlet 容器的基础上，进一步的讨论了如何通过 Swagger 暴露 openAPI 以及集成 Swagger UI 的方法。</p> <p>本文没有涉及的内容包含但不限于国际化支持、Dubbo REST 更高阶的注入扩展的用法、以及 Dubbo REST 支持未来的规划。其中 Dubbo REST 扩展的支持可以参考 <a href=https://github.com/beiwei30/dubbo-rest-samples/tree/master/extensions>https://github.com/beiwei30/dubbo-rest-samples/tree/master/extensions</a> 中的演示。以后有机会会开专门的篇幅来探讨更高级的 Swagger 的支持、以及对未来的展望。</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p><a href=http://en.wikipedia.org/wiki/Roy_Fielding>http://en.wikipedia.org/wiki/Roy_Fielding</a>&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> <li id=fn:2> <p><a href=http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm>http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</a>&#160;<a class=footnote-backref href=#fnref:2 title="Jump back to footnote 2 in the text">&#8617;</a></p> </li> <li id=fn:3> <p><a href=https://martinfowler.com/articles/richardsonMaturityModel.html>https://martinfowler.com/articles/richardsonMaturityModel.html</a>&#160;<a class=footnote-backref href=#fnref:3 title="Jump back to footnote 3 in the text">&#8617;</a></p> </li> <li id=fn:4> <p><a href=https://github.com/dangdangdotcom/dubbox>https://github.com/dangdangdotcom/dubbox</a>&#160;<a class=footnote-backref href=#fnref:4 title="Jump back to footnote 4 in the text">&#8617;</a></p> </li> <li id=fn:5> <p><a href=http://dubbo.apache.org/zh-cn/blog/dubbo-annotation.html>http://dubbo.apache.org/zh-cn/blog/dubbo-annotation.html</a>&#160;<a class=footnote-backref href=#fnref:5 title="Jump back to footnote 5 in the text">&#8617;</a></p> </li> <li id=fn:6> <p><a href=https://www.webjars.org/documentation#servlet3>https://www.webjars.org/documentation#servlet3</a>&#160;<a class=footnote-backref href=#fnref:6 title="Jump back to footnote 6 in the text">&#8617;</a></p> </li> </ol> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/squidfunk/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://hub.docker.com/r/squidfunk/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://twitter.com/squidfunk target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://linkedin.com/in/squidfunk/ target=_blank rel=noopener title=linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://instagram.com/squidfunk target=_blank rel=noopener title=instagram.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.c3dc8c49.min.js></script> <script src=../../assets/javascripts/bundle.30071cf1.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["tabs", "search.highlight"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>